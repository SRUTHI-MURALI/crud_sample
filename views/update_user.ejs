
<!-- include header -->
<%- include('header') %>
<!-- /include header -->

  <!-- Main Site -->
  <main id="site-main">
    <div class="container">
        <div class="box-nav d-flex justify-between">
           <div class="filter">
               <a href="/admin_panel"><i class="fas fa-angle-double-left"></i> All Users</a>
           </div>
        </div>
        <div class="form-title text-center">
            <h2 class="text-dark">Update User</h2>
            <span class="text-dark">Use the below form to Update an account</span>
        </div>

        <!-- add user form -->
         <!-- form handling -->
 <form method="PUT" id="update_user" name="basic" onsubmit="validateBasic()">
    <div class="new_user">
        <div class="form-group">
            <label for="name" class="text-dark">Name</label>
            <input type="hidden" name="id" value="<%= user._id%>">
            <input type="text" name="name" value="<%= user.name%>" placeholder="Name ">
        </div>
        <div class="form-group">
            <label for="Email" class="text-dark">Email</label>
            <input type="text" name="email" value="<%= user.email%>" placeholder="Email">
        </div>


        <div class="form-group">
            <label for="gender" class="text-dark">Gender</label>
            <div class="radio inline">
                <input type="radio" id="radio-2" name="gender" value="Male" <%= user.gender == 'Male' ? 'checked' : '' %>>
                <label for="radio-2" class="radio-label">Male</label>
            </div>
            <div class="radio inline">
                <input type="radio" id="radio-3" name="gender" value="Female"  <%= user.gender == 'Female' ? 'checked' : '' %> >
                <label for="radio-3" class="radio-label">Female</label>
            </div>
        </div>

        <div class="form-group">
            <label for="gender" class="text-dark">Status</label>
            <div class="radio inline">
                <input type="radio" id="radio-4" name="status" value="Active" <%= user.status == 'Active' ? 'checked' : '' %> >
                <label for="radio-4" class="radio-label">Active</label>
            </div>
            <div class="radio inline">
                <input type="radio" id="radio-5" name="status" value="Inactive" <%= user.status == 'Inactive' ? 'checked' : '' %> >
                <label for="radio-5" class="radio-label">Inactive</label>
            </div>
        </div>

        <div class="form-group">
            <button type="submit" class="btn text-dark update">Save</button>
        </div>

    </div>
</form>
       
    </div>
</main>
<!-- /Main Site -->

<script>
    function validateBasic() {
        var name = document.forms["basic"]["name"].value.trim();
        var email = document.forms["basic"]["email"].value.trim();
        var gender = document.forms["basic"]["gender"].value;
        var status = document.forms["basic"]["status"].value;
        
    
    
        // Validation for name field
        if (name == "") {
            alert("Name must be filled out");
            return false;
        }


        // Validate name
    var nameRegex = /^[A-Za-z\s]+$/;
    if (!nameRegex.test(name)) {
        alert("Name should only contain letters and spaces.");
        return false;
    }
    
    
        // Validation for email field
        if (email == "") {
            alert("Email must be filled");
            return false;
        } else {
            // regex for email validation
            var email_regex = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
    
            if (!email_regex.test(email)) {
                alert("Invalid email address");
                return false;
            }
        }
    
       
    
        // Validation for gender field
        if (gender == "") {
            alert("Please select your gender");
            return false;
        }
    
        // Validation for status field
        if (status == "") {
            alert("Please select status");
            return false;
        }
    
    
    
        return true; // form is valid
    }
    
    </script>

<!-- include footer -->
<%- include('footer') %>
<!-- /include footer -->